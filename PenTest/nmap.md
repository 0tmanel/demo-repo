# Nmap (Network Mapper) is an open-source tool used for network discovery and security auditing. It is commonly used to identify devices on a network, scan for open ports, and gather information about the services running on those ports. Nmap is widely used by network administrators, security professionals, and penetration testers to assess the security of networks and systems.

###### ####### TO HACK REMOTELY  you need to know the ip address, exposed service running on the ip address , vulnerabilities in the services, exploit

# 2: exposed service running on the ip address

we use Port Scanning to know that :
- which identify open ports on target machine 
- done by cconnecting to each port and analyzing the response
- nmap does OS identification, service identification
- nmap does SYN scan
# 3: Vulnerability scanning
- use automated tools to identify weaknesses
- one of the best vulnerability scanners is called Nessus
# 4: exploit
- metasploit
   1- show option command show us what we can change 
- if you have a vulnerability but want to know if there is exploitable we use www.exploit-db.com
# Key Features of Nmap:
Host Discovery: Nmap can determine which devices (hosts) are up and reachable on a network, using techniques like ICMP echo requests, ARP requests, and TCP/UDP ping scans.

Port Scanning: Nmap can scan a range of ports on a host to identify open ports. This helps determine which services are running on those ports, such as HTTP (port 80), HTTPS (port 443), FTP (port 21), etc.

Service Version Detection: Nmap can attempt to identify the version of the services running on open ports, which can provide insight into potential vulnerabilities.

OS Detection: Nmap can perform an operating system (OS) fingerprinting scan to identify the operating system and hardware characteristics of a target device.

Scripting: Nmap has a scripting engine (NSE - Nmap Scripting Engine) that allows users to write or use existing scripts to automate a variety of tasks such as vulnerability scanning, service detection, and brute-force password testing.

Firewall and IDS/IPS Evasion: Nmap includes options to avoid detection by firewalls and intrusion detection/prevention systems (IDS/IPS) through techniques like fragmenting packets, using different scan types, and spoofing IP addresses.


# #### Common Nmap Commands:

# Basic Host Discovery:
nmap <target-ip>
Scans the target IP for open ports.

# Scan Specific Ports:
nmap -p 22,80,443 <target-ip>
Scans only the specified ports (22, 80, 443).

# Service Version Detection:
nmap -sV <target-ip>
Detects versions of services running on open ports.

# Operating System Detection:
nmap -O <target-ip>
Attempts to identify the operating system of the target.

# Aggressive Scan 
(combines host discovery, port scanning, service detection, and OS detection):
nmap -A <target-ip>

# nmap -sN: TCP Null Scan
A Null Scan (-sN) sends a TCP packet with no flags set. This means the packet has no SYN, ACK, FIN, or RST flags, which is unusual for normal communication. The goal of the Null Scan is to evade detection by firewalls or intrusion detection systems (IDS) that might be looking for typical connection attempts.

How it works:

A packet with no flags is sent to a target port.
If the port is closed, the target will respond with an RST (reset) packet.
If the port is open, there will be no response (this is what makes it "stealthy").

# nmap -sX: TCP Xmas Scan
A Xmas Scan (-sX) sends a TCP packet with the FIN, URG, and PUSH flags set. These flags are used to tell the receiver to "light up" like a Christmas tree (hence the name "Xmas"), but they are rarely used in normal TCP communications.

How it works:

A packet with these flags set is sent to the target port.
If the port is closed, the target will respond with an RST packet.
If the port is open, the target typically will not respond (this is used to infer open ports).
nmap -sX <target-ip>

# nmap-sS: TCP SYN Scan (Stealth Scan)
The SYN Scan (-sS) is the most commonly used and fastest type of scan in Nmap. It sends a SYN packet (the first part of the TCP handshake) to the target. If the port is open, the target will respond with a SYN-ACK (acknowledgment). If the port is closed, the target will respond with a RST (reset) packet.

How it works:

A SYN packet is sent to the target port.
If the port is open, the target responds with a SYN-ACK.
Nmap then sends an RST packet to abort the connection, meaning the handshake is never completed.
If the port is closed, an RST is returned immediately.
This is a "stealth" scan because it does not complete the TCP handshake, which makes it harder for firewalls and IDS/IPS to detect.
nmap -sS <target-ip>

# nmap -f: Fragmentation
The Fragmentation flag (-f) tells Nmap to fragment packets into smaller parts. This can help evade some types of firewalls or intrusion detection systems that are not designed to reassemble fragmented packets.

How it works:

Nmap will split the scan packets into small fragments and send them separately.
The target device will receive these fragmented packets, which it will attempt to reassemble.
Some firewalls or IDS/IPS may not reassemble fragmented packets correctly, making it harder for them to detect the scan.
nmap -f <target-ip>

# nmap -6: IPv6 Scanning
The IPv6 Scan (-6) instructs Nmap to use IPv6 addresses for scanning, as opposed to the default IPv4.

How it works:

When you use -6, Nmap will target IPv6 addresses specifically, rather than trying to scan IPv4 addresses.
This is useful when scanning a network that is fully or partially on IPv6.
nmap -6 <target-ipv6-address>

# nmap--packet-trace: Show Packet Trace
The --packet-trace flag instructs Nmap to display all the raw packets it sends and receives during the scan. This can be useful for troubleshooting or for seeing how the scan is being conducted at a packet level.

How it works:

This flag outputs detailed information about each packet, including the headers and responses.
It's useful for debugging or analyzing exactly what Nmap is doing during a scan (e.g., whether it's properly sending SYN packets, receiving responses, etc.).

# nmap -T5 and T1: Timing Templates
The T flag in Nmap allows you to control the speed of the scan by adjusting the timing template, which influences how quickly Nmap sends packets, the delays between packets, and the overall scan aggressiveness. The T templates range from T0 to T5, where T0 is the slowest and T5 is the fastest. Higher values generally mean faster scans but with an increased risk of detection or causing network congestion.

T5: Insane Scan

The T5 setting is the most aggressive timing template.
It sends packets at a very high rate with minimal delay between them, aiming to complete the scan as quickly as possible.
While very fast, this is also the most likely to trigger alerts from intrusion detection systems (IDS), firewalls, or network monitoring tools due to the high volume of traffic in a short period.
Usage:

nmap -T5 <target-ip>

Timing Template Breakdown:

T0: Paranoid (extremely slow, useful for evading detection in highly monitored environments).
T1: Sneaky (slow, stealthy scan).
T2: Polite (slightly slower than the default scan, less aggressive).
T3: Normal (default scan speed, balanced between speed and stealth).
T4: Aggressive (faster scan with a higher risk of detection).
T5: Insane (maximum speed, likely to be detected).
Pros:

T5 is excellent for quickly scanning large numbers of hosts or services (at the risk of being detected).
T1 is great for stealthy scans when you want to minimize the risk of detection.

# nmap -P-: No Ping Scan
The -P- flag disables host discovery. By default, Nmap sends a ping (ICMP echo request) to a target to determine if the host is up before proceeding with the scan. The -P- flag tells Nmap to skip the host discovery phase and scan the target regardless of whether it responds to ping requests.

How it works:

Normally, Nmap checks if the host is alive using ICMP ping, TCP connection attempts, or ARP requests (on local networks). If a host doesn’t respond, Nmap may skip it.
When you use -P-, Nmap doesn’t check if the host is alive. It will attempt to scan the specified ports even if the host is down or unreachable.